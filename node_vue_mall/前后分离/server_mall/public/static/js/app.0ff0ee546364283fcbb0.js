webpackJsonp([1],{"09yM":function(t,e){},"CaR+":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("kV13"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=n("C7Lr")({name:"App"},o,!1,function(t){n("zKXW")},null,null).exports,i=n("7LQH"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h1",[this._v(this._s(this.msg))]),this._v(" "),e("el-button",[this._v("Click Me")]),this._v(" "),e("h2",[this._v("Essential Links")])],1)},staticRenderFns:[]};var u=n("C7Lr")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},r,!1,function(t){n("c4/s")},"data-v-1a8f3458",null).exports,l=n("4YfN"),c=n.n(l),d=n("x7Ey"),p=n.n(d),g=n("48sp"),m={data:function(){return{userName:"top",userPwd:"123456",errorTip:!1,loginModalFlag:!1}},computed:c()({},Object(g.b)(["nickName","cartCount"])),mounted:function(){this.checkLogin()},methods:{checkLogin:function(){var t=this;p.a.get("/users/checkLogin").then(function(e){var n=e.data;t.$route.pathname;"0"==n.status?(t.$store.commit("updateUserInfo",n.result),t.loginModalFlag=!1):(t.loginModalFlag=!0,"/goods"!=t.$route.path&&t.$router.push("/goods"))})},showlogin:function(){this.loginModalFlag=!0},login:function(){var t=this;this.userName&&this.userPwd?p.a.post("/users/login",{userName:this.userName,userPwd:this.userPwd}).then(function(e){var n=e.data;"0"==n.status?(t.errorTip=!1,t.mdShow=!1,t.$store.commit("updateUserInfo",n.result.userName),t.loginModalFlag=!1):t.errorTip=!0}):this.errorTip=!0},logout:function(){var t=this;p.a.post("/users/logout").then(function(e){var n=e.data;"0"==n.status&&t.$store.commit("updateUserInfo",n.result.userName)})}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"header"},[n("div",{staticClass:"navlogin"},[t.nickName?t._e():n("a",{on:{click:t.showlogin}},[t._v("login")]),t._v(" "),t.nickName?n("a",{on:{click:t.logout}},[t._v("logOut")]):t._e()]),t._v(" "),t.loginModalFlag?n("div",{staticClass:"loginmodel"},[n("p",[t._v("login")]),t._v(" "),n("ul",[n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],attrs:{type:"text",tabindex:"1",name:"loginname",placeholder:"User Name","data-type":"loginname"},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})]),t._v(" "),n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userPwd,expression:"userPwd"}],attrs:{type:"password",tabindex:"2",name:"password",placeholder:"Password"},domProps:{value:t.userPwd},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||(t.userPwd=e.target.value)}}})])]),t._v(" "),n("el-button",{on:{click:t.login}},[t._v("login")])],1):t._e(),t._v(" "),t.loginModalFlag?n("div",{staticClass:"md-overlay",on:{click:function(e){t.loginModalFlag=!1}}}):t._e()])},staticRenderFns:[]};var h={data:function(){return{userName:"top",userPwd:"123456",goodsList:[],sortFlag:!0,page:1,pageSize:8,busy:!0,loading:!1,mdShow:!1,mdShowCart:!1,priceFilter:[{startPrice:"0.00",endPrice:"100.00"},{startPrice:"100.00",endPrice:"500.00"},{startPrice:"500.00",endPrice:"1000.00"},{startPrice:"1000.00",endPrice:"5000.00"}],priceChecked:"all",filterBy:!1,overLayFlag:!1}},mounted:function(){this.getGoodsList()},components:{NavHeader:n("C7Lr")(m,v,!1,function(t){n("VJxI")},null,null).exports},methods:{getGoodsList:function(t){var e=this,n={page:this.page,pageSize:this.pageSize,sort:this.sortFlag?1:-1,priceLevel:this.priceChecked};this.loading=!0,p.a.get("/goods/list",{params:n}).then(function(n){var s=n.data;e.loading=!1,"0"==s.status?t?(e.goodsList=e.goodsList.concat(s.result.list),0==s.result.count?e.busy=!0:e.busy=!1):(e.goodsList=s.result.list,e.busy=!1):e.goodsList=[]})}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("nav-header"),t._v(" "),n("div",[n("ul",{staticClass:"good-list"},t._l(t.goodsList,function(e){return n("li",{key:e.productName},[n("div",{staticClass:"pic"},[n("a",{attrs:{href:"#"}},[n("img",{attrs:{src:"static/"+e.productImage}})])]),t._v(" "),n("div",{staticClass:"main"},[n("div",{staticClass:"name"},[t._v(t._s(e.productName))]),t._v(" "),n("div",{staticClass:"price"},[t._v(t._s(t._f("currency")(e.salePrice,"$")))]),t._v(" "),n("div",[n("el-button",{staticStyle:{width:"100%"},on:{click:function(n){return t.addCart(e.productId)}}},[t._v("加入购物车")])],1)])])}),0)])],1)},staticRenderFns:[]};var _=n("C7Lr")(h,f,!1,function(t){n("CaR+")},null,null).exports;s.default.use(i.a);var k=new i.a({routes:[{path:"/goods",name:"GoodsList",component:_},{path:"*",name:"HelloWorld",component:u}]}),C=n("TcQY"),w=n.n(C),N=(n("09yM"),/(\d{3})(?=\d)/g);s.default.use(g.a),s.default.use(w.a),s.default.config.productionTip=!1,s.default.filter("currency",function(t,e,n){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=null!=e?e:"$",n=null!=n?n:2;var s=Math.abs(t).toFixed(n),o=n?s.slice(0,-1-n):s,a=o.length%3,i=a>0?o.slice(0,a)+(o.length>3?",":""):"",r=n?s.slice(-1-n):"";return(t<0?"-":"")+e+i+o.slice(a).replace(N,"$1,")+r});var y=new g.a.Store({state:{nickName:"",cartCount:0},mutations:{updateUserInfo:function(t,e){t.nickName=e},updateCartCount:function(t,e){t.cartCount+=e}}});new s.default({el:"#app",store:y,router:k,mounted:function(){this.checkLogin()},methods:{checkLogin:function(){var t=this;p.a.get("users/checkLogin").then(function(e){"0"==(e=e.data).status?t.$store.commit("updateUserInfo",e.result):"/goods"!=t.$route.path&&t.$router.push("/goods")})}},components:{App:a},template:"<App/>"})},VJxI:function(t,e){},"c4/s":function(t,e){},zKXW:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0ff0ee546364283fcbb0.js.map